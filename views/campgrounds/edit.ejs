<!DOCTYPE html>
<html lang="en">

<% layout("layouts/boilerplate") %>

<div class="container">
    <h1 class="text-center">Edit <%=camp.title%>
    </h1>
    <section class="col-md-6 offset-md-3 mt-4">

        <form action="/campgrounds/<%=camp._id%>?_method=PUT" method="POST" class="needs-validation" novalidate
            enctype="multipart/form-data">

            <div class="mb-3">
                <label for="title" class="form-label">Title</label>
                <input class="form-control" type="text" name="campground[title]" id="title" placeholder="Title"
                    value="<%= camp.title %>" required>

            </div>

            <div class="mb-3">

                <label for="location" class="form-label">Location</label>
                <input class="form-control" type="text" name="campground[location]" placeholder="location" id="location"
                    value="<%= camp.location%>" required>
            </div>

            <div class="mb-3">
                <label for="price" class="form-label">Price</label>
                <div class="input-group"> <span class="input-group-text">$</span>
                    <input class="form-control" type="number" name="campground[price]" id="price"
                        value="<%= camp.price %>" required>
                </div>



            </div>
            <div class="mb-3">
                <label for="image" class="formFileMultiple">Add more images</label>
                <input type="file" name="image" id="image" multiple class="form-control">
            </div>

            <div class="mb-3 row">
                
                <% camp.images.forEach((img, i)=>{%>
                    <div class="col-md-4 col-sm-4 ">
                    <img src="<%=img.thumbnail%>" alt="" class="img-thumbnail">
                    <div class="form-check m-0">
                        <input type="checkbox" name="deleteImages[]" id="img-<%=i%>" value="<%=img.filename%>">
                        <label for="img-<%=i%>" class="form-label">Delete</label>
                    </div>
                    
                </div>
                    <% }) %>
            </div>

            <div class="mb-3">
                <label for="description" class="form-label">Description</label>
                <textarea class="form-control" name="campground[description]" id="description" cols="30" rows="10"
                    required><%=camp.description%> </textarea>
            </div>

            
            <div class="mb-3 d-grid gap-2">
                <button class="btn btn-wecamp" type="submit">Edit Camp</button>
            </div>

        </form>
        <div class="mb-3">
            <a href="/campgrounds"><i class="bi bi-arrow-left-circle"></i> Back to campgrounds</a> &nbsp;
            <a href="/campgrounds/<%=camp._id%>"><i class="bi bi-arrow-left-circle"></i> Back to <%=camp.title%> </a>
        </div>

    </section>

</div>